(()=>{const e=document.querySelector(".page-header__menu-toggle"),t=document.querySelector(".page-header__navigation");e.classList.remove("page-header__menu-toggle--nojs"),t.classList.remove("navigation--nojs");const n=i=>{"Escape"===i.key&&(e.classList.remove("page-header__menu-toggle--open"),t.classList.remove("navigation--open"),document.removeEventListener("keydown",n))},i=()=>{e.classList.contains("page-header__menu-toggle--open")?(e.classList.remove("page-header__menu-toggle--open"),t.classList.remove("navigation--open")):(e.classList.add("page-header__menu-toggle--open"),t.classList.add("navigation--open"),document.addEventListener("keydown",n))};t&&e.addEventListener("click",i);const o=()=>{const e=document.querySelector(".references__map-overlay");e.style.display="none",e.removeEventListener("click",o)},r=()=>{const e=document.querySelector(".references__map-overlay");e.style.display="flex",e.addEventListener("click",o)};if(document.querySelector(".references")){const e=document.querySelector(".references__map-wrap"),t=e.querySelector(".references__map-static"),n=document.createElement("iframe"),i=document.createElement("div");e.removeChild(t),e.appendChild(n),e.appendChild(i),i.classList.add("references__map-overlay"),i.textContent="click to enable map zoom",n.classList.add("references__map-interactive"),n.src="https://www.google.com/maps/d/embed?mid=1Pxd-xOFMxeS2hI1JsQISX4qceosw-QSr",i.addEventListener("click",o),n.addEventListener("mouseout",r)}const c=[{number:10,name:"Corner",description:"Lorem TEN is simply dummy text of the printing and typesetting industry.",location:{x:115,y:56},image:"img/unik-tech-10.png"},{number:11,name:"Foundation crown",description:"Lorem ELEVEN is simply dummy text of the printing and typesetting industry.",location:{x:-3,y:231},image:"img/unik-tech-11.png"},{number:12,name:"Dovetail",description:"Lorem TWELVE is simply dummy text of the printing and typesetting industry.",location:{x:412,y:31},image:"img/unik-tech-12.png"},{number:13,name:"Reverse joint",description:"Lorem THIRTEEN is simply dummy text of the printing and typesetting industry.",location:{x:512,y:144},image:"img/unik-tech-13.png"},{number:14,name:"Combined joint",description:"Lorem FOURTEEN is simply dummy text of the printing and typesetting industry.",location:{x:189,y:366},image:"img/unik-tech-14.png"},{number:15,name:"Purlins joint",description:"Lorem FIFTEEN is simply dummy text of the printing and typesetting industry.",location:{x:320,y:225},image:"img/unik-tech-15.png"},{number:16,name:"End joint",description:"Lorem SIXTEEN is simply dummy text of the printing and typesetting industry.",location:{x:512,y:321},image:"img/unik-tech-16.png"},{number:17,name:"Tongue & Groove",description:"Lorem SEVENTEEN is simply dummy text of the printing and typesetting industry.",location:{x:705,y:316},image:"img/unik-tech-17.png"}],s=document.querySelector(".unique-tech"),m=document.querySelector(".unique-tech__preview"),a=document.querySelector(".pins"),u=document.querySelector(".pin"),d=document.querySelector("template").content.querySelector("div.pin__btn-popup").cloneNode(!0),l=()=>{const e=document.querySelectorAll(".unique-tech__subitem-text"),t=document.querySelectorAll(".pin__btn");e.forEach(e=>{e.classList.remove("unique-tech__subitem-text--active")}),t.forEach(e=>{e.classList.remove("pin__btn--active")})},p=e=>{const t=e.target,n=document.querySelector(".pin__btn-popup");"Escape"===e.key&&(n.classList.add("pin__btn-popup--off"),l()),"pin__btn"===t.className||t.classList.contains("unique-tech__subitem-text")||(n.classList.add("pin__btn-popup--off"),l())};(e=>{const t=document.createDocumentFragment(),n=document.querySelector("template").content.querySelector(".pin");e.forEach(e=>{let i=n.cloneNode(!0);i.querySelector(".pin__btn").textContent=e.number,i.querySelector(".pin__btn").style=`left:${e.location.x/785*100}%; top:${e.location.y/491*100}%`,i.classList.add("pin--"+e.number),t.appendChild(i)}),a.appendChild(t)})(c),(e=>{const t=document.querySelector(".unique-tech__subitems"),n=document.createDocumentFragment(),i=document.querySelector("template").content.querySelector(".unique-tech__subitem");e.forEach(e=>{const t=i.cloneNode(!0);t.id=e.number,t.querySelector(".unique-tech__subitem-number").textContent=e.number+" ",t.querySelector(".unique-tech__subitem-text").textContent=e.name,n.appendChild(t)}),t.appendChild(n)})(c),s.addEventListener("click",e=>{const t=e.target;c.forEach((function(e,n){t.parentNode.id!==e.number.toString()&&t.textContent!==e.number.toString()||(l(),(e=>{const t=document.querySelectorAll(".unique-tech__subitem-text"),n=document.querySelectorAll(".pin__btn");t[e].classList.add("unique-tech__subitem-text--active"),n[e].classList.add("pin__btn--active")})(n),function(e){const t=e.location.x,n=e.location.y;let i=`left: ${(t+19)/785*100}%; top: ${(n+19)/491*100}%`;t+434>785&&(i=`left:${(t-434+19)/785*100}%; top:${(n+19)/491*100}%`),window.innerWidth<450&&(i="left: 0; bottom:-100px"),window.innerWidth<1100&&(i="left: 0; bottom:-150px"),d.classList.remove("pin__btn-popup--off"),d.querySelector("img").src=e.image,d.querySelector(".pin__btn-title").textContent=e.name,d.querySelector(".pin__btn-text").textContent=e.description,d.style=i,a.insertBefore(d,u)}(e))}))}),m.addEventListener("click",p),window.addEventListener("keydown",p)})();